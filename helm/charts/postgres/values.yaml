# Default values for clipper-postgres

image:
  repository: pgvector/pgvector
  pullPolicy: IfNotPresent
  tag: "pg17"

nameOverride: ""
fullnameOverride: ""

serviceAccount:
  create: false

podAnnotations: {}

podSecurityContext: {}

securityContext: {}

service:
  type: ClusterIP
  port: 5432

persistence:
  enabled: true
  storageClassName: "local-path"
  accessMode: ReadWriteOnce
  size: 20Gi

resources:
  limits:
    cpu: 1000m
    memory: 2Gi
  requests:
    cpu: 250m
    memory: 512Mi

nodeSelector: {}

tolerations: []

affinity: {}

livenessProbe:
  exec:
    command:
      - pg_isready
      - -U
      - clipper
      - -d
      - clipper_db
  initialDelaySeconds: 30
  periodSeconds: 10

readinessProbe:
  exec:
    command:
      - pg_isready
      - -U
      - clipper
      - -d
      - clipper_db
  initialDelaySeconds: 5
  periodSeconds: 5

# Configuration
config:
  database: "clipper_db"
  username: "clipper"

# Secrets should be injected via external secrets operator
secrets:
  existingSecret: "postgres-secret"
  # If existingSecret is not set, password will be generated
  # password: ""
