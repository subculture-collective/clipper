---
title: "Internationalization (i18n) Guide"
summary: "This document provides guidance for contributors on managing translations and locale keys in the Cli"
tags: ['mobile']
area: "mobile"
status: "stable"
owner: "team-core"
version: "1.0"
last_reviewed: 2025-12-11
---

# Internationalization (i18n) Guide

This document provides guidance for contributors on managing translations and locale keys in the Clipper project.

## Overview

Clipper uses [i18next](https://www.i18next.com/) for internationalization. We currently support three languages:

- **English (en)** - Default/fallback language
- **Spanish (es)**
- **French (fr)**

## Supported Languages

| Code | Language | Flag | Status |
|------|----------|------|--------|
| `en` | English  | ðŸ‡¬ðŸ‡§   | âœ… Complete |
| `es` | Spanish  | ðŸ‡ªðŸ‡¸   | âœ… Complete |
| `fr` | French   | ðŸ‡«ðŸ‡·   | âœ… Complete |

### Future Languages

We plan to add more languages based on community demand. To request a new language, open an issue with the `enhancement` label.

## Translation Files

Translation files are located in `/frontend/src/i18n/locales/`:

```
frontend/src/i18n/locales/
â”œâ”€â”€ en.json  (English - baseline)
â”œâ”€â”€ es.json  (Spanish)
â””â”€â”€ fr.json  (French)
```

## Translation Key Structure

Translation keys are organized into logical namespaces:

```json
{
  "app": {
    "name": "App-level strings"
  },
  "nav": {
    "item": "Navigation strings"
  },
  "feed": {
    "sort": {
      "option": "Feed sorting options"
    },
    "timeframe": {
      "period": "Time period filters"
    }
  },
  "language": {
    "code": "Language names and labels"
  },
  "clip": {
    "action": "Clip-related actions"
  },
  "theme": {
    "mode": "Theme preferences"
  },
  "common": {
    "action": "Common UI actions and states"
  }
}
```

## Adding New Translations

When adding new UI strings:

1. **Add the key to English first** (`en.json`) - this is the baseline
2. **Add translations to all supported languages** (`es.json`, `fr.json`)
3. **Use clear, descriptive keys** - e.g., `nav.login` not `nav.btn1`
4. **Keep the same structure** across all language files
5. **Test with different languages** to ensure strings fit in the UI

### Example

Adding a new button label:

```json
// en.json
{
  "common": {
    "download": "Download"
  }
}

// es.json
{
  "common": {
    "download": "Descargar"
  }
}

// fr.json
{
  "common": {
    "download": "TÃ©lÃ©charger"
  }
}
```

## Using Translations in Code

### In React Components

```tsx
import { useTranslation } from 'react-i18next';

function MyComponent() {
  const { t } = useTranslation();
  
  return (
    <button>{t('common.save')}</button>
  );
}
```

### With Interpolation

```tsx
<p>{t('welcome', { name: user.name })}</p>
```

Translation file:

```json
{
  "welcome": "Welcome, {{name}}!"
}
```

## Locale Key Ownership

### Core Navigation & UI

**Owner:** Frontend Team  
**Files:** `nav.*`, `theme.*`, `common.*`  
**Review Required:** Yes

### Feed & Content

**Owner:** Content Team  
**Files:** `feed.*`, `clip.*`  
**Review Required:** Yes

### User-Facing Messages

**Owner:** UX Team  
**Files:** `error.*`, `success.*`, `validation.*`  
**Review Required:** Yes, by UX and native speakers

## Translation Quality Guidelines

1. **Keep strings concise** - UI space is limited
2. **Maintain tone consistency** - friendly but professional
3. **Use gender-neutral language** where possible
4. **Consider cultural context** - avoid idioms or culturally-specific references
5. **Test with RTL languages** when adding Arabic, Hebrew, etc.

## Fallback Strategy

Our i18n configuration uses a robust fallback strategy:

1. **Primary:** User's selected language from localStorage
2. **Secondary:** Browser's language preference (navigator.language)
3. **Tertiary:** HTML lang attribute
4. **Final Fallback:** English (`en`)

Configuration in `/frontend/src/i18n/config.ts`:

```typescript
{
  fallbackLng: 'en',
  supportedLngs: ['en', 'es', 'fr'],
  load: 'languageOnly',
  detection: {
    order: ['localStorage', 'navigator', 'htmlTag'],
    lookupLocalStorage: 'i18nextLng',
    caches: ['localStorage'],
  }
}
```

## Testing Translations

### Manual Testing

1. Use the language switcher in the header (flag buttons)
2. Verify all UI strings update immediately
3. Check that the selection persists after page reload
4. Test on mobile and desktop layouts

### Automated Testing

Translation tests are in `/frontend/src/components/layout/LanguageSwitcher.test.tsx`

Run tests:

```bash
cd frontend
npm test
```

## Missing Translation Keys

If a translation key is missing:

1. The fallback language (English) will be displayed
2. In development mode, a warning appears in the console
3. The missing key is logged to help identify gaps

## TODO: Future Enhancements

- [ ] Add language-specific date/time formatting
- [ ] Add language-specific number formatting
- [ ] Add pluralization support
- [ ] Add more languages based on user analytics
- [ ] Integrate with translation management platform (e.g., Crowdin, Lokalise)
- [ ] Add translation coverage reports to CI/CD
- [ ] Support lazy-loading of language files for better performance

## Contributing

When contributing translations:

1. Ensure you are fluent in the target language
2. Follow the existing key structure
3. Test your changes with the language switcher
4. Get review from a native speaker when possible
5. Update this documentation if adding new namespaces

## Resources

- [i18next Documentation](https://www.i18next.com/)
- [react-i18next Documentation](https://react.i18next.com/)
- [i18next Browser Language Detector](https://github.com/i18next/i18next-browser-languageDetector)

## Questions?

If you have questions about translations or need help:

1. Check existing translation files for examples
2. Review this guide
3. Open an issue with the `question` label
4. Tag the frontend team for assistance
