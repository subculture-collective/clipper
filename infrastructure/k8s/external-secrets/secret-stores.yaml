---
# SecretStore for AWS Secrets Manager (Production)
apiVersion: external-secrets.io/v1beta1
kind: SecretStore
metadata:
  name: aws-secrets-manager
  namespace: clipper-production
spec:
  provider:
    aws:
      service: SecretsManager
      region: us-east-1  # Update with your region
      auth:
        jwt:
          serviceAccountRef:
            name: clipper-backend
---
# SecretStore for AWS Secrets Manager (Staging)
apiVersion: external-secrets.io/v1beta1
kind: SecretStore
metadata:
  name: aws-secrets-manager
  namespace: clipper-staging
spec:
  provider:
    aws:
      service: SecretsManager
      region: us-east-1  # Update with your region
      auth:
        jwt:
          serviceAccountRef:
            name: clipper-backend
---
# SecretStore for GCP Secret Manager (Production)
apiVersion: external-secrets.io/v1beta1
kind: SecretStore
metadata:
  name: gcp-secret-manager
  namespace: clipper-production
spec:
  provider:
    gcpsm:
      projectID: "clipper-prod"  # Update with your project ID
      auth:
        workloadIdentity:
          clusterLocation: us-central1  # Update with your region
          clusterName: clipper-prod-cluster
          serviceAccountRef:
            name: clipper-backend
---
# SecretStore for GCP Secret Manager (Staging)
apiVersion: external-secrets.io/v1beta1
kind: SecretStore
metadata:
  name: gcp-secret-manager
  namespace: clipper-staging
spec:
  provider:
    gcpsm:
      projectID: "clipper-staging"  # Update with your project ID
      auth:
        workloadIdentity:
          clusterLocation: us-central1  # Update with your region
          clusterName: clipper-staging-cluster
          serviceAccountRef:
            name: clipper-backend
---
# SecretStore for HashiCorp Vault (Production)
apiVersion: external-secrets.io/v1beta1
kind: SecretStore
metadata:
  name: vault
  namespace: clipper-production
spec:
  provider:
    vault:
      server: "https://vault.example.com"  # Update with your Vault URL
      path: "secret"
      version: "v2"
      auth:
        kubernetes:
          mountPath: "kubernetes"
          role: "clipper-backend-prod"
          serviceAccountRef:
            name: clipper-backend
---
# SecretStore for HashiCorp Vault (Staging)
apiVersion: external-secrets.io/v1beta1
kind: SecretStore
metadata:
  name: vault
  namespace: clipper-staging
spec:
  provider:
    vault:
      server: "https://vault.example.com"  # Update with your Vault URL
      path: "secret"
      version: "v2"
      auth:
        kubernetes:
          mountPath: "kubernetes"
          role: "clipper-backend-staging"
          serviceAccountRef:
            name: clipper-backend
---
# SecretStore for Azure Key Vault (Production)
apiVersion: external-secrets.io/v1beta1
kind: SecretStore
metadata:
  name: azure-keyvault
  namespace: clipper-production
spec:
  provider:
    azurekv:
      vaultUrl: "https://clipper-prod-kv.vault.azure.net"  # Update with your vault URL
      authType: WorkloadIdentity
      serviceAccountRef:
        name: clipper-backend
---
# SecretStore for Azure Key Vault (Staging)
apiVersion: external-secrets.io/v1beta1
kind: SecretStore
metadata:
  name: azure-keyvault
  namespace: clipper-staging
spec:
  provider:
    azurekv:
      vaultUrl: "https://clipper-staging-kv.vault.azure.net"  # Update with your vault URL
      authType: WorkloadIdentity
      serviceAccountRef:
        name: clipper-backend
