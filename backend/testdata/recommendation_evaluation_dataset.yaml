# Recommendation Algorithm Evaluation Dataset
# This file contains labeled scenarios for evaluating recommendation quality
# using standard metrics: precision@k, recall@k, nDCG, diversity, serendipity

version: "1.0"
description: "Labeled evaluation dataset for recommendation algorithm quality metrics"
created_at: "2024-12-30"
last_updated: "2024-12-30"

# Relevance scale:
# 0 = Not relevant - Clip is completely unrelated to user's interests
# 1 = Marginally relevant - Clip is tangentially related but doesn't match well
# 2 = Fairly relevant - Clip partially matches user's interests
# 3 = Highly relevant - Clip strongly matches user's interests
# 4 = Perfect - Clip is exactly what the user would want to see

evaluation_scenarios:
  # Active user with clear preferences - Content-based scenario
  - id: "rec-001"
    user_id: "user-valorant-fan"
    description: "Active Valorant player who watches competitive gameplay"
    algorithm: "content"
    is_cold_start: false
    user_profile:
      favorite_games: ["Valorant", "CS:GO"]
      followed_streamers: ["TenZ", "Shroud", "s1mple"]
      preferred_categories: ["FPS", "Competitive"]
      interaction_history: ["val-ace-001", "val-clutch-002", "csgo-pro-003"]
    relevant_clips:
      - clip_id: "val-tournament-ace-001"
        relevance: 4
        reason: "Valorant tournament ace - perfect match"
        game_id: "Valorant"
      - clip_id: "val-ranked-clutch-002"
        relevance: 3
        reason: "High-level Valorant clutch play"
        game_id: "Valorant"
      - clip_id: "csgo-major-highlight-003"
        relevance: 3
        reason: "CS:GO competitive play - similar interest"
        game_id: "CS:GO"
      - clip_id: "val-funny-moment-004"
        relevance: 2
        reason: "Valorant but not competitive focus"
        game_id: "Valorant"
      - clip_id: "apex-tournament-005"
        relevance: 2
        reason: "FPS but different game"
        game_id: "Apex Legends"
      - clip_id: "lol-pentakill-006"
        relevance: 0
        reason: "Different genre entirely"
        game_id: "League of Legends"
      - clip_id: "minecraft-build-007"
        relevance: 0
        reason: "Completely unrelated"
        game_id: "Minecraft"

  # Cold start scenario - New user with no history
  - id: "rec-002"
    user_id: "user-new-coldstart"
    description: "Brand new user with no interaction history"
    algorithm: "trending"
    is_cold_start: true
    user_profile:
      favorite_games: []
      followed_streamers: []
      preferred_categories: []
      interaction_history: []
    relevant_clips:
      - clip_id: "trending-viral-001"
        relevance: 4
        reason: "High-quality trending content"
        game_id: "Fortnite"
      - clip_id: "trending-funny-002"
        relevance: 4
        reason: "Universally appealing humor"
        game_id: "Among Us"
      - clip_id: "trending-esports-003"
        relevance: 3
        reason: "Popular esports moment"
        game_id: "League of Legends"
      - clip_id: "popular-streamer-004"
        relevance: 3
        reason: "Well-known streamer content"
        game_id: "Valorant"
      - clip_id: "medium-views-005"
        relevance: 1
        reason: "Less popular content"
        game_id: "Destiny 2"
      - clip_id: "niche-game-006"
        relevance: 1
        reason: "Very niche audience"
        game_id: "Crusader Kings"

  # Diverse interests - Collaborative filtering scenario
  - id: "rec-003"
    user_id: "user-variety-gamer"
    description: "User who enjoys multiple game genres"
    algorithm: "collaborative"
    is_cold_start: false
    user_profile:
      favorite_games: ["League of Legends", "Minecraft", "Valorant"]
      followed_streamers: ["Faker", "Dream", "TenZ"]
      preferred_categories: ["MOBA", "Sandbox", "FPS"]
      interaction_history: ["lol-play-001", "mc-build-002", "val-ace-003"]
    relevant_clips:
      - clip_id: "lol-outplay-001"
        relevance: 4
        reason: "Perfect match for MOBA interest"
        game_id: "League of Legends"
      - clip_id: "minecraft-creative-002"
        relevance: 4
        reason: "Creative Minecraft content"
        game_id: "Minecraft"
      - clip_id: "val-pro-play-003"
        relevance: 4
        reason: "Valorant competitive match"
        game_id: "Valorant"
      - clip_id: "dota-highlight-004"
        relevance: 2
        reason: "Similar to LoL but different game"
        game_id: "Dota 2"
      - clip_id: "terraria-build-005"
        relevance: 2
        reason: "Similar to Minecraft"
        game_id: "Terraria"
      - clip_id: "csgo-ace-006"
        relevance: 2
        reason: "Similar to Valorant"
        game_id: "CS:GO"
      - clip_id: "fifa-goal-007"
        relevance: 0
        reason: "Completely different interest"
        game_id: "FIFA"

  # Serendipity scenario - User open to discovery
  - id: "rec-004"
    user_id: "user-discovery-seeker"
    description: "User who has shown openness to new games"
    algorithm: "hybrid"
    is_cold_start: false
    user_profile:
      favorite_games: ["Overwatch"]
      followed_streamers: ["xQc"]
      preferred_categories: ["FPS", "Team-based"]
      interaction_history: ["ow-potg-001", "apex-win-002", "valorant-try-003"]
    relevant_clips:
      - clip_id: "ow-tournament-001"
        relevance: 4
        reason: "Main interest - Overwatch"
        game_id: "Overwatch"
      - clip_id: "paladins-play-002"
        relevance: 3
        reason: "Serendipitous - similar to OW"
        game_id: "Paladins"
      - clip_id: "tf2-funny-003"
        relevance: 3
        reason: "Serendipitous - team FPS"
        game_id: "Team Fortress 2"
      - clip_id: "apex-squad-004"
        relevance: 2
        reason: "User has tried Apex"
        game_id: "Apex Legends"
      - clip_id: "valorant-ace-005"
        relevance: 2
        reason: "User has tried Valorant"
        game_id: "Valorant"
      - clip_id: "destiny-raid-006"
        relevance: 1
        reason: "FPS but different style"
        game_id: "Destiny 2"

  # Game-specific enthusiast - High precision expected
  - id: "rec-005"
    user_id: "user-lol-only"
    description: "Dedicated League of Legends player"
    algorithm: "content"
    is_cold_start: false
    user_profile:
      favorite_games: ["League of Legends"]
      followed_streamers: ["Faker", "Caps", "Doublelift"]
      preferred_categories: ["MOBA"]
      interaction_history: ["lol-pro-001", "lol-ranked-002", "lol-montage-003"]
    relevant_clips:
      - clip_id: "lol-faker-outplay-001"
        relevance: 4
        reason: "Perfect - favorite streamer"
        game_id: "League of Legends"
      - clip_id: "lol-worlds-highlight-002"
        relevance: 4
        reason: "Perfect - pro play"
        game_id: "League of Legends"
      - clip_id: "lol-pentakill-003"
        relevance: 4
        reason: "Perfect - exciting moment"
        game_id: "League of Legends"
      - clip_id: "lol-funny-fail-004"
        relevance: 3
        reason: "LoL content, entertaining"
        game_id: "League of Legends"
      - clip_id: "lol-tutorial-005"
        relevance: 2
        reason: "LoL but educational"
        game_id: "League of Legends"
      - clip_id: "dota-pro-006"
        relevance: 1
        reason: "Similar game, wrong one"
        game_id: "Dota 2"
      - clip_id: "valorant-ace-007"
        relevance: 0
        reason: "Different genre"
        game_id: "Valorant"

  # Casual viewer - Mixed content preferences
  - id: "rec-006"
    user_id: "user-casual-variety"
    description: "Casual viewer who enjoys funny moments more than gameplay"
    algorithm: "hybrid"
    is_cold_start: false
    user_profile:
      favorite_games: ["Just Chatting", "Minecraft", "Among Us"]
      followed_streamers: ["xQc", "Pokimane", "Disguised Toast"]
      preferred_categories: ["Entertainment", "Casual"]
      interaction_history: ["funny-fail-001", "wholesome-002", "meme-003"]
    relevant_clips:
      - clip_id: "streamer-funny-moment-001"
        relevance: 4
        reason: "Perfect - funny content"
        game_id: "Just Chatting"
      - clip_id: "among-us-betrayal-002"
        relevance: 4
        reason: "Perfect - social deduction fun"
        game_id: "Among Us"
      - clip_id: "minecraft-fail-003"
        relevance: 3
        reason: "Funny Minecraft moment"
        game_id: "Minecraft"
      - clip_id: "fall-guys-chaos-004"
        relevance: 3
        reason: "Casual, funny game"
        game_id: "Fall Guys"
      - clip_id: "valorant-whiff-005"
        relevance: 2
        reason: "Funny but more competitive"
        game_id: "Valorant"
      - clip_id: "csgo-pro-006"
        relevance: 0
        reason: "Too serious/competitive"
        game_id: "CS:GO"

  # Cold start with minimal preference data
  - id: "rec-007"
    user_id: "user-semi-cold"
    description: "New user who just favorited one clip"
    algorithm: "hybrid"
    is_cold_start: true
    user_profile:
      favorite_games: ["Fortnite"]
      followed_streamers: []
      preferred_categories: []
      interaction_history: ["fortnite-victory-001"]
    relevant_clips:
      - clip_id: "fortnite-win-002"
        relevance: 4
        reason: "Same game, similar content"
        game_id: "Fortnite"
      - clip_id: "fortnite-build-003"
        relevance: 3
        reason: "Fortnite but different style"
        game_id: "Fortnite"
      - clip_id: "apex-victory-004"
        relevance: 2
        reason: "Similar BR genre"
        game_id: "Apex Legends"
      - clip_id: "warzone-clutch-005"
        relevance: 2
        reason: "Similar BR genre"
        game_id: "Warzone"
      - clip_id: "pubg-squad-006"
        relevance: 2
        reason: "Similar BR genre"
        game_id: "PUBG"
      - clip_id: "lol-play-007"
        relevance: 0
        reason: "Different genre"
        game_id: "League of Legends"

  # Edge case: User with single-game obsession (test diversity)
  - id: "rec-008"
    user_id: "user-diversity-test"
    description: "Tests diversity enforcement - should show variety even for single-game user"
    algorithm: "hybrid"
    is_cold_start: false
    user_profile:
      favorite_games: ["Valorant"]
      followed_streamers: ["TenZ", "Shroud"]
      preferred_categories: ["FPS"]
      interaction_history: ["val-001", "val-002", "val-003", "val-004", "val-005"]
    relevant_clips:
      - clip_id: "val-ace-001"
        relevance: 4
        reason: "Primary interest"
        game_id: "Valorant"
      - clip_id: "val-clutch-002"
        relevance: 4
        reason: "Primary interest"
        game_id: "Valorant"
      - clip_id: "csgo-highlight-003"
        relevance: 3
        reason: "Diverse but relevant FPS"
        game_id: "CS:GO"
      - clip_id: "apex-play-004"
        relevance: 2
        reason: "Diverse FPS option"
        game_id: "Apex Legends"
      - clip_id: "val-tutorial-005"
        relevance: 2
        reason: "Valorant but different content"
        game_id: "Valorant"
      - clip_id: "overwatch-potg-006"
        relevance: 2
        reason: "Diverse FPS option"
        game_id: "Overwatch"

metric_targets:
  precision_at_5:
    target: 0.70
    description: "At least 70% of top 5 recommendations should be relevant"
    warning_threshold: 0.60
    critical_threshold: 0.50

  precision_at_10:
    target: 0.60
    description: "At least 60% of top 10 recommendations should be relevant"
    warning_threshold: 0.50
    critical_threshold: 0.40

  recall_at_5:
    target: 0.50
    description: "Top 5 should capture at least 50% of relevant items"
    warning_threshold: 0.40
    critical_threshold: 0.30

  recall_at_10:
    target: 0.70
    description: "Top 10 should capture at least 70% of relevant items"
    warning_threshold: 0.60
    critical_threshold: 0.50

  ndcg_at_5:
    target: 0.75
    description: "nDCG@5 should be at least 0.75 (good ranking quality)"
    warning_threshold: 0.65
    critical_threshold: 0.55

  ndcg_at_10:
    target: 0.70
    description: "nDCG@10 should be at least 0.70"
    warning_threshold: 0.60
    critical_threshold: 0.50

  diversity_at_5:
    target: 3.0
    description: "Top 5 should include at least 3 different games"
    warning_threshold: 2.5
    critical_threshold: 2.0

  diversity_at_10:
    target: 5.0
    description: "Top 10 should include at least 5 different games"
    warning_threshold: 4.0
    critical_threshold: 3.0

  serendipity:
    target: 0.25
    description: "At least 25% of relevant recommendations should be serendipitous"
    warning_threshold: 0.15
    critical_threshold: 0.10

  cold_start_precision_5:
    target: 0.60
    description: "Cold start scenarios should maintain 60% precision@5"
    warning_threshold: 0.50
    critical_threshold: 0.40

evaluation_guidelines:
  - "Precision and recall measure recommendation accuracy"
  - "nDCG measures ranking quality (higher scores for more relevant items ranked higher)"
  - "Diversity measures variety in recommendations (number of unique games)"
  - "Serendipity measures unexpected but relevant recommendations"
  - "Cold-start metrics assess performance for new users"
  - "All metrics should be evaluated regularly to track algorithm improvements"
  - "Baseline measurements should be captured with each major algorithm change"
