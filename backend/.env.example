# ============================================================================
# Backend Environment Variables (Development)
# ============================================================================
# This file contains all required environment variables for local development.
# Copy this file to .env and fill in the values.
# 
# SECURITY WARNING: Never commit .env files with actual values!
# See docs/CI_CD_SECRETS.md for production setup.
#

# ============================================================================
# Server Configuration
# ============================================================================
PORT=8080
# Gin mode: debug, release, test
GIN_MODE=debug
# Base URL for the application (used in sitemap and social meta tags)
BASE_URL=http://localhost:5173
# Environment: development, staging, production
ENVIRONMENT=development

# ============================================================================
# Database Configuration
# ============================================================================
DB_HOST=localhost
DB_PORT=5436
DB_USER=clipper
DB_PASSWORD=clipper_password
DB_NAME=clipper_db
DB_SSLMODE=disable

# ============================================================================
# Redis Configuration
# ============================================================================
REDIS_HOST=localhost
REDIS_PORT=6379
# Leave empty for no password (local development)
REDIS_PASSWORD=
REDIS_DB=0

# ============================================================================
# JWT Configuration
# ============================================================================
# Generate RSA key pair with: openssl genrsa -out private.pem 2048 && openssl rsa -in private.pem -pubout -out public.pem
# Then copy the entire content (including -----BEGIN/END----- lines) into these variables
# For development, leave empty and the app will generate a new pair on startup
JWT_PRIVATE_KEY=
JWT_PUBLIC_KEY=

# ============================================================================
# Twitch API Configuration
# ============================================================================
# Get credentials from: https://dev.twitch.tv/console/apps
# 1. Register a new application
# 2. Copy the Client ID
# 3. Generate a Client Secret
# Required for clip fetching and syncing features
TWITCH_CLIENT_ID=your-twitch-client-id
TWITCH_CLIENT_SECRET=your-twitch-client-secret
TWITCH_REDIRECT_URI=http://localhost:8080/api/v1/auth/twitch/callback

# ============================================================================
# CORS Configuration
# ============================================================================
# Comma-separated list of allowed origins for CORS
CORS_ALLOWED_ORIGINS=http://localhost:5173,http://localhost:3000

# ============================================================================
# Logging
# ============================================================================
# Log level: debug, info, warn, error
LOG_LEVEL=debug

# ============================================================================
# OpenSearch Configuration (Full-Text Search)
# ============================================================================
OPENSEARCH_URL=http://localhost:9200
OPENSEARCH_USERNAME=
OPENSEARCH_PASSWORD=
# WARNING: Set to false in production to enable TLS certificate verification
OPENSEARCH_INSECURE_SKIP_VERIFY=true

# ============================================================================
# Stripe Configuration (Payment Processing)
# ============================================================================
# Get credentials from: https://dashboard.stripe.com/test/apikeys
# IMPORTANT: Use test mode keys by default for security
# 1. Get your test secret key from the Stripe Dashboard
# 2. Create products and prices in test mode
# 3. Set up webhook endpoint and get webhook secret
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret
# Create these price IDs in Stripe Dashboard under Products
STRIPE_PRO_MONTHLY_PRICE_ID=price_your_monthly_price_id
STRIPE_PRO_YEARLY_PRICE_ID=price_your_yearly_price_id
# URLs for redirect after checkout
STRIPE_SUCCESS_URL=http://localhost:5173/subscription/success
STRIPE_CANCEL_URL=http://localhost:5173/subscription/cancel

# ============================================================================
# Sentry Configuration (Error Tracking & Performance Monitoring)
# ============================================================================
# Get DSN from: https://sentry.io/ (create a new project for backend)
# Leave SENTRY_ENABLED=false for development unless testing error tracking
SENTRY_ENABLED=false
SENTRY_DSN=
SENTRY_ENVIRONMENT=development
SENTRY_RELEASE=
# Sample rate for performance monitoring (0.0 to 1.0)
# Set to 1.0 for development, lower in production (e.g., 0.1 = 10%)
SENTRY_TRACES_SAMPLE_RATE=1.0
